<!-- task_manager/task_confirm_delete.html -->
{% extends '../base.html' %}

{% block content %}
<h1>Confirm Delete</h1>
<p>Are you sure you want to delete "{{ object }}"?</p>

<form action="{% url 'task-delete' pk=object.pk %}" method="post">
    {% csrf_token %}
    <button type="submit">Delete</button>
    <button type="button" onclick="window.location.href='{% url 'task-list' %}'">Cancel</button>
</form>

<script>
// Show confirmation dialog on form submission
document.querySelector('form').addEventListener('submit', function(event) {
    const confirmation = confirm('Are you sure you want to delete this task?');
    if (!confirmation) {
        event.preventDefault();  // Prevent form submission if user cancels
    }
});
</script>
{% endblock %}
